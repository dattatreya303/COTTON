\hypertarget{cotton-runtime_8h}{}\section{cotton-\/runtime.h File Reference}
\label{cotton-runtime_8h}\index{cotton-\/runtime.\+h@{cotton-\/runtime.\+h}}


Header for C\+O\+T\+T\+ON runtime methods.  


{\ttfamily \#include \char`\"{}cotton.\+h\char`\"{}}\newline
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structcotton_1_1Deque}{cotton\+::\+Deque}}
\item 
struct \mbox{\hyperlink{structcotton_1_1Thief__node}{cotton\+::\+Thief\+\_\+node}}
\item 
struct \mbox{\hyperlink{structcotton_1_1Worker}{cotton\+::\+Worker}}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{cotton-runtime_8h_a10290155a529ee095e61fe1c9e181293}\label{cotton-runtime_8h_a10290155a529ee095e61fe1c9e181293}} 
\#define {\bfseries N\+U\+M\+\_\+\+T\+H\+R\+E\+S\+H\+O\+L\+DS}~4
\item 
\mbox{\Hypertarget{cotton-runtime_8h_af89f60b07247176687889ade776c8e10}\label{cotton-runtime_8h_af89f60b07247176687889ade776c8e10}} 
\#define {\bfseries C\+A\+C\+H\+E\+\_\+\+L\+I\+N\+E\+\_\+\+S\+I\+ZE}~64
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{cotton-runtime_8h_ad169fe95f5f03bdfa569dd365dde6c12}{cotton\+::free\+\_\+all}} ()
\item 
void \mbox{\hyperlink{cotton-runtime_8h_a4ea9036584fa3bd86fe8626dc05d295f}{cotton\+::lib\+\_\+key\+\_\+init}} ()
\item 
void \mbox{\hyperlink{cotton-runtime_8h_aac28063e6fe138ec81c444e83b7f6ffc}{cotton\+::set\+\_\+eefc\+\_\+mode}} ()
\item 
void \mbox{\hyperlink{cotton-runtime_8h_af22caee9434a7e06a09b2f9a0417c1eb}{cotton\+::find\+\_\+and\+\_\+execute\+\_\+task}} ()
\item 
void $\ast$ \mbox{\hyperlink{cotton-runtime_8h_a1cae25b77bd884fcdcf2532663056d22}{cotton\+::grab\+\_\+task\+\_\+from\+\_\+runtime}} ()
\item 
void $\ast$ \mbox{\hyperlink{cotton-runtime_8h_a361c34063ecb68cf02d417074decb12b}{cotton\+::worker\+\_\+routine}} (void $\ast$args)
\item 
\mbox{\Hypertarget{cotton-runtime_8h_a399a666655a31ad2b3c8eae4b1d6d707}\label{cotton-runtime_8h_a399a666655a31ad2b3c8eae4b1d6d707}} 
void {\bfseries cotton\+::set\+\_\+supported\+\_\+cpu\+\_\+frequencies} ()
\item 
void \mbox{\hyperlink{cotton-runtime_8h_a803285410d295a5f32238ad2dfc241a5}{cotton\+::push\+\_\+task\+\_\+to\+\_\+runtime}} (void $\ast$task)
\item 
unsigned int \mbox{\hyperlink{cotton-runtime_8h_a325b0808848e793c747e547f6e660efd}{cotton\+::bind\+\_\+thread\+\_\+to\+\_\+core}} (pthread\+\_\+t thread\+\_\+to\+\_\+map, int core\+\_\+id)
\item 
void \mbox{\hyperlink{cotton-runtime_8h_ae91d8cfb1b831a971eafccb512c17a15}{cotton\+::\+UP}} (int worker\+\_\+id)
\item 
void \mbox{\hyperlink{cotton-runtime_8h_a522a9376ec51306eab1724b2a9a1cf93}{cotton\+::\+D\+O\+WN}} (int worker\+\_\+id)
\item 
void \mbox{\hyperlink{cotton-runtime_8h_a5b31e108dfdf198f421dab591cb009fc}{cotton\+::\+D\+O\+WN}} (int victim\+\_\+worker\+\_\+id, int thief\+\_\+worker\+\_\+id)
\item 
void \mbox{\hyperlink{cotton-runtime_8h_af567cb17aa6a653d9a567fb65f40b716}{cotton\+::begin\+\_\+victim\+\_\+thief\+\_\+relationship}} (int victim\+\_\+worker\+\_\+id, int thief\+\_\+worker\+\_\+id)
\item 
void \mbox{\hyperlink{cotton-runtime_8h_a2faa5f098d14f1a3319101ff735bf016}{cotton\+::end\+\_\+victim\+\_\+thief\+\_\+relationship}} (int victim\+\_\+worker\+\_\+id, int thief\+\_\+worker\+\_\+id)
\item 
void \mbox{\hyperlink{cotton-runtime_8h_a824fc414cfcf95d0d928f9736490ab41}{cotton\+::end\+\_\+victim}} (int victim\+\_\+worker\+\_\+id)
\item 
void \mbox{\hyperlink{cotton-runtime_8h_aaffd00340decbd3395986d865ecc2660}{cotton\+::workload\+\_\+up\+\_\+check}} (int worker\+\_\+id)
\item 
void \mbox{\hyperlink{cotton-runtime_8h_adb1488633725b43a252652796faa2e98}{cotton\+::workload\+\_\+down\+\_\+check}} (int worker\+\_\+id)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{cotton-runtime_8h_a096f85b6b6bdb5108f8534037c15e139}\label{cotton-runtime_8h_a096f85b6b6bdb5108f8534037c15e139}} 
bool {\bfseries cotton\+::\+E\+E\+F\+C\+\_\+\+M\+O\+DE} = false
\item 
\mbox{\Hypertarget{cotton-runtime_8h_ad72043de8ba79ff3385abd67fd1b15bf}\label{cotton-runtime_8h_ad72043de8ba79ff3385abd67fd1b15bf}} 
volatile bool {\bfseries cotton\+::\+S\+H\+U\+T\+D\+O\+WN}
\item 
\mbox{\Hypertarget{cotton-runtime_8h_ae1c243496d4cac35fb6d8fb6be14b0f3}\label{cotton-runtime_8h_ae1c243496d4cac35fb6d8fb6be14b0f3}} 
pthread\+\_\+t $\ast$ {\bfseries cotton\+::thread} = N\+U\+LL
\item 
\mbox{\Hypertarget{cotton-runtime_8h_a41bafde742c3ac2e3f360be9a8b2926d}\label{cotton-runtime_8h_a41bafde742c3ac2e3f360be9a8b2926d}} 
pthread\+\_\+key\+\_\+t {\bfseries cotton\+::\+T\+H\+R\+E\+A\+D\+\_\+\+K\+EY}
\item 
\mbox{\Hypertarget{cotton-runtime_8h_a0d692d5b7c9fbd1d4999ed8270ebcce0}\label{cotton-runtime_8h_a0d692d5b7c9fbd1d4999ed8270ebcce0}} 
unsigned int {\bfseries cotton\+::\+N\+U\+M\+\_\+\+W\+O\+R\+K\+E\+RS} = 0
\item 
\mbox{\Hypertarget{cotton-runtime_8h_a71daeb136715fb167bda82ac84373091}\label{cotton-runtime_8h_a71daeb136715fb167bda82ac84373091}} 
pthread\+\_\+mutex\+\_\+t $\ast$ {\bfseries cotton\+::\+D\+E\+Q\+U\+E\+\_\+\+M\+U\+T\+EX} = N\+U\+LL
\item 
\mbox{\Hypertarget{cotton-runtime_8h_a8c3fa2e0febd6194c6c2e1b8274e3b6a}\label{cotton-runtime_8h_a8c3fa2e0febd6194c6c2e1b8274e3b6a}} 
volatile unsigned int {\bfseries cotton\+::\+F\+I\+N\+I\+S\+H\+\_\+\+C\+O\+U\+N\+T\+ER}
\item 
\mbox{\Hypertarget{cotton-runtime_8h_abc469e68d18d644b538f6f16335fb5c4}\label{cotton-runtime_8h_abc469e68d18d644b538f6f16335fb5c4}} 
const unsigned int {\bfseries cotton\+::\+M\+A\+X\+\_\+\+D\+E\+Q\+U\+E\+\_\+\+S\+I\+ZE} = 100
\item 
\mbox{\Hypertarget{cotton-runtime_8h_a261cb084089447eb9c2bab5c95891795}\label{cotton-runtime_8h_a261cb084089447eb9c2bab5c95891795}} 
const unsigned int {\bfseries cotton\+::\+D\+E\+F\+A\+U\+L\+T\+\_\+\+N\+U\+M\+\_\+\+W\+O\+R\+K\+E\+RS} = 1
\item 
\mbox{\Hypertarget{cotton-runtime_8h_a49aaf0b0bc093f68bcc20907ff338827}\label{cotton-runtime_8h_a49aaf0b0bc093f68bcc20907ff338827}} 
pthread\+\_\+once\+\_\+t {\bfseries cotton\+::\+T\+H\+R\+E\+A\+D\+\_\+\+K\+E\+Y\+\_\+\+O\+N\+CE} = P\+T\+H\+R\+E\+A\+D\+\_\+\+O\+N\+C\+E\+\_\+\+I\+N\+IT
\item 
\mbox{\Hypertarget{cotton-runtime_8h_a0fa66e316877ba57e881d9c4fd193765}\label{cotton-runtime_8h_a0fa66e316877ba57e881d9c4fd193765}} 
pthread\+\_\+mutex\+\_\+t {\bfseries cotton\+::\+F\+I\+N\+I\+S\+H\+\_\+\+M\+U\+T\+EX} = P\+T\+H\+R\+E\+A\+D\+\_\+\+M\+U\+T\+E\+X\+\_\+\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+ER
\item 
\mbox{\Hypertarget{cotton-runtime_8h_a9495289cfdde14af0e4088dd212b892c}\label{cotton-runtime_8h_a9495289cfdde14af0e4088dd212b892c}} 
double {\bfseries cotton\+::\+C\+P\+U\+\_\+\+F\+R\+E\+Q\+U\+E\+N\+C\+I\+E\+S\+\_\+\+S\+U\+P\+P\+O\+R\+T\+ED} \mbox{[}$\,$\mbox{]} = \{0\}
\item 
\mbox{\Hypertarget{cotton-runtime_8h_a90bfbca05b124b3b7e18e43d3354ae4e}\label{cotton-runtime_8h_a90bfbca05b124b3b7e18e43d3354ae4e}} 
Worker $\ast$ {\bfseries cotton\+::\+W\+O\+R\+K\+E\+R\+\_\+\+A\+R\+R\+AY}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Header for C\+O\+T\+T\+ON runtime methods. 



\subsection{Function Documentation}
\mbox{\Hypertarget{cotton-runtime_8h_file_af567cb17aa6a653d9a567fb65f40b716}\label{cotton-runtime_8h_file_af567cb17aa6a653d9a567fb65f40b716}} 
\index{cotton-\/runtime.\+h@{cotton-\/runtime.\+h}!begin\+\_\+victim\+\_\+thief\+\_\+relationship@{begin\+\_\+victim\+\_\+thief\+\_\+relationship}}
\index{begin\+\_\+victim\+\_\+thief\+\_\+relationship@{begin\+\_\+victim\+\_\+thief\+\_\+relationship}!cotton-\/runtime.\+h@{cotton-\/runtime.\+h}}
\subsubsection{\texorpdfstring{begin\+\_\+victim\+\_\+thief\+\_\+relationship()}{begin\_victim\_thief\_relationship()}}
{\footnotesize\ttfamily void cotton\+::begin\+\_\+victim\+\_\+thief\+\_\+relationship (\begin{DoxyParamCaption}\item[{int}]{victim\+\_\+worker\+\_\+id,  }\item[{int}]{thief\+\_\+worker\+\_\+id }\end{DoxyParamCaption})}

Begin a victim-\/thief relationship by\+:
\begin{DoxyItemize}
\item adding a new thief node to the worker\textquotesingle{}s thief list.
\item reducing the C\+PU frequency of thief worker using D\+V\+FS.
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em victim\+\_\+worker\+\_\+id} & Victim worker \\
\hline
{\em thief\+\_\+worker\+\_\+id} & Thief worker, the one which stole the task.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Void 
\end{DoxyReturn}
\mbox{\Hypertarget{cotton-runtime_8h_file_a325b0808848e793c747e547f6e660efd}\label{cotton-runtime_8h_file_a325b0808848e793c747e547f6e660efd}} 
\index{cotton-\/runtime.\+h@{cotton-\/runtime.\+h}!bind\+\_\+thread\+\_\+to\+\_\+core@{bind\+\_\+thread\+\_\+to\+\_\+core}}
\index{bind\+\_\+thread\+\_\+to\+\_\+core@{bind\+\_\+thread\+\_\+to\+\_\+core}!cotton-\/runtime.\+h@{cotton-\/runtime.\+h}}
\subsubsection{\texorpdfstring{bind\+\_\+thread\+\_\+to\+\_\+core()}{bind\_thread\_to\_core()}}
{\footnotesize\ttfamily unsigned int cotton\+::bind\+\_\+thread\+\_\+to\+\_\+core (\begin{DoxyParamCaption}\item[{pthread\+\_\+t}]{thread\+\_\+to\+\_\+map,  }\item[{int}]{core\+\_\+id }\end{DoxyParamCaption})}

Sets the C\+PU affinity mask of the thread with given core\+\_\+id


\begin{DoxyParams}{Parameters}
{\em thread\+\_\+to\+\_\+map} & The target thread which we want to bind \\
\hline
{\em core\+\_\+id} & The target core we want the target thread to bind to \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if success or nonzero error number if error encountered 
\end{DoxyReturn}
\mbox{\Hypertarget{cotton-runtime_8h_file_a522a9376ec51306eab1724b2a9a1cf93}\label{cotton-runtime_8h_file_a522a9376ec51306eab1724b2a9a1cf93}} 
\index{cotton-\/runtime.\+h@{cotton-\/runtime.\+h}!D\+O\+WN@{D\+O\+WN}}
\index{D\+O\+WN@{D\+O\+WN}!cotton-\/runtime.\+h@{cotton-\/runtime.\+h}}
\subsubsection{\texorpdfstring{D\+O\+W\+N()}{DOWN()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void cotton\+::\+D\+O\+WN (\begin{DoxyParamCaption}\item[{int}]{worker\+\_\+id }\end{DoxyParamCaption})}

Decrease the C\+PU frequency of the worker by one level.


\begin{DoxyParams}{Parameters}
{\em worker\+\_\+id} & Worker\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Void 
\end{DoxyReturn}
\mbox{\Hypertarget{cotton-runtime_8h_file_a5b31e108dfdf198f421dab591cb009fc}\label{cotton-runtime_8h_file_a5b31e108dfdf198f421dab591cb009fc}} 
\index{cotton-\/runtime.\+h@{cotton-\/runtime.\+h}!D\+O\+WN@{D\+O\+WN}}
\index{D\+O\+WN@{D\+O\+WN}!cotton-\/runtime.\+h@{cotton-\/runtime.\+h}}
\subsubsection{\texorpdfstring{D\+O\+W\+N()}{DOWN()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void cotton\+::\+D\+O\+WN (\begin{DoxyParamCaption}\item[{int}]{worker\+\_\+id\+\_\+1,  }\item[{int}]{worker\+\_\+id\+\_\+2 }\end{DoxyParamCaption})}

Decrease the C\+PU frequency of Worker 2 by one level below Worker 1.


\begin{DoxyParams}{Parameters}
{\em worker\+\_\+id\+\_\+1} & Worker 1 \\
\hline
{\em worker\+\_\+id\+\_\+2} & Worker 2\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Void 
\end{DoxyReturn}
\mbox{\Hypertarget{cotton-runtime_8h_file_a824fc414cfcf95d0d928f9736490ab41}\label{cotton-runtime_8h_file_a824fc414cfcf95d0d928f9736490ab41}} 
\index{cotton-\/runtime.\+h@{cotton-\/runtime.\+h}!end\+\_\+victim@{end\+\_\+victim}}
\index{end\+\_\+victim@{end\+\_\+victim}!cotton-\/runtime.\+h@{cotton-\/runtime.\+h}}
\subsubsection{\texorpdfstring{end\+\_\+victim()}{end\_victim()}}
{\footnotesize\ttfamily void cotton\+::end\+\_\+victim (\begin{DoxyParamCaption}\item[{int}]{victim\+\_\+worker\+\_\+id }\end{DoxyParamCaption})}

End the victim status of a worker\+:
\begin{DoxyItemize}
\item increasing the C\+PU frequency of all its thiefs, and their thieves, recursively by one level.
\item free the memory occupied by the thief list of the worker
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em victim\+\_\+worker\+\_\+id} & Victim worker\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Void 
\end{DoxyReturn}
\mbox{\Hypertarget{cotton-runtime_8h_file_a2faa5f098d14f1a3319101ff735bf016}\label{cotton-runtime_8h_file_a2faa5f098d14f1a3319101ff735bf016}} 
\index{cotton-\/runtime.\+h@{cotton-\/runtime.\+h}!end\+\_\+victim\+\_\+thief\+\_\+relationship@{end\+\_\+victim\+\_\+thief\+\_\+relationship}}
\index{end\+\_\+victim\+\_\+thief\+\_\+relationship@{end\+\_\+victim\+\_\+thief\+\_\+relationship}!cotton-\/runtime.\+h@{cotton-\/runtime.\+h}}
\subsubsection{\texorpdfstring{end\+\_\+victim\+\_\+thief\+\_\+relationship()}{end\_victim\_thief\_relationship()}}
{\footnotesize\ttfamily void cotton\+::end\+\_\+victim\+\_\+thief\+\_\+relationship (\begin{DoxyParamCaption}\item[{int}]{victim\+\_\+worker\+\_\+id,  }\item[{int}]{thief\+\_\+worker\+\_\+id }\end{DoxyParamCaption})}

Increasing the C\+PU frequency of all thiefs, and their thieves, recursively by one level.


\begin{DoxyParams}{Parameters}
{\em victim\+\_\+worker\+\_\+id} & Victim worker \\
\hline
{\em thief\+\_\+worker\+\_\+id} & Thief worker, the one which stole the task.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Void 
\end{DoxyReturn}
\mbox{\Hypertarget{cotton-runtime_8h_file_af22caee9434a7e06a09b2f9a0417c1eb}\label{cotton-runtime_8h_file_af22caee9434a7e06a09b2f9a0417c1eb}} 
\index{cotton-\/runtime.\+h@{cotton-\/runtime.\+h}!find\+\_\+and\+\_\+execute\+\_\+task@{find\+\_\+and\+\_\+execute\+\_\+task}}
\index{find\+\_\+and\+\_\+execute\+\_\+task@{find\+\_\+and\+\_\+execute\+\_\+task}!cotton-\/runtime.\+h@{cotton-\/runtime.\+h}}
\subsubsection{\texorpdfstring{find\+\_\+and\+\_\+execute\+\_\+task()}{find\_and\_execute\_task()}}
{\footnotesize\ttfamily void cotton\+::find\+\_\+and\+\_\+execute\+\_\+task (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Finds a task from the per thread deque data structures, executes it and finally decrements the volatile finish counter after acquiring the lock

\begin{DoxyReturn}{Returns}
Void 
\end{DoxyReturn}
\mbox{\Hypertarget{cotton-runtime_8h_file_ad169fe95f5f03bdfa569dd365dde6c12}\label{cotton-runtime_8h_file_ad169fe95f5f03bdfa569dd365dde6c12}} 
\index{cotton-\/runtime.\+h@{cotton-\/runtime.\+h}!free\+\_\+all@{free\+\_\+all}}
\index{free\+\_\+all@{free\+\_\+all}!cotton-\/runtime.\+h@{cotton-\/runtime.\+h}}
\subsubsection{\texorpdfstring{free\+\_\+all()}{free\_all()}}
{\footnotesize\ttfamily void cotton\+::free\+\_\+all (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Call free() on everything allocated on heap.

\begin{DoxyReturn}{Returns}
Void 
\end{DoxyReturn}
\mbox{\Hypertarget{cotton-runtime_8h_file_a1cae25b77bd884fcdcf2532663056d22}\label{cotton-runtime_8h_file_a1cae25b77bd884fcdcf2532663056d22}} 
\index{cotton-\/runtime.\+h@{cotton-\/runtime.\+h}!grab\+\_\+task\+\_\+from\+\_\+runtime@{grab\+\_\+task\+\_\+from\+\_\+runtime}}
\index{grab\+\_\+task\+\_\+from\+\_\+runtime@{grab\+\_\+task\+\_\+from\+\_\+runtime}!cotton-\/runtime.\+h@{cotton-\/runtime.\+h}}
\subsubsection{\texorpdfstring{grab\+\_\+task\+\_\+from\+\_\+runtime()}{grab\_task\_from\_runtime()}}
{\footnotesize\ttfamily void $\ast$ cotton\+::grab\+\_\+task\+\_\+from\+\_\+runtime (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Pops or steals a task encapsulated as a lambda function from the caller or the victim thread\textquotesingle{}s deque data structure.

It first checks in the calling thread deque data structure and if if does not find any then it tries to steal for other threads\textquotesingle{} deque data structure. All this is done after taking the necessary locks to avoid data races

\begin{DoxyReturn}{Returns}
Task encapsulated in a lambda function 
\end{DoxyReturn}
\mbox{\Hypertarget{cotton-runtime_8h_file_a4ea9036584fa3bd86fe8626dc05d295f}\label{cotton-runtime_8h_file_a4ea9036584fa3bd86fe8626dc05d295f}} 
\index{cotton-\/runtime.\+h@{cotton-\/runtime.\+h}!lib\+\_\+key\+\_\+init@{lib\+\_\+key\+\_\+init}}
\index{lib\+\_\+key\+\_\+init@{lib\+\_\+key\+\_\+init}!cotton-\/runtime.\+h@{cotton-\/runtime.\+h}}
\subsubsection{\texorpdfstring{lib\+\_\+key\+\_\+init()}{lib\_key\_init()}}
{\footnotesize\ttfamily void cotton\+::lib\+\_\+key\+\_\+init (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Wrapper to initialize the value of the pthread key variable with proper error checking

\begin{DoxyReturn}{Returns}
Void 
\end{DoxyReturn}
\mbox{\Hypertarget{cotton-runtime_8h_file_a803285410d295a5f32238ad2dfc241a5}\label{cotton-runtime_8h_file_a803285410d295a5f32238ad2dfc241a5}} 
\index{cotton-\/runtime.\+h@{cotton-\/runtime.\+h}!push\+\_\+task\+\_\+to\+\_\+runtime@{push\+\_\+task\+\_\+to\+\_\+runtime}}
\index{push\+\_\+task\+\_\+to\+\_\+runtime@{push\+\_\+task\+\_\+to\+\_\+runtime}!cotton-\/runtime.\+h@{cotton-\/runtime.\+h}}
\subsubsection{\texorpdfstring{push\+\_\+task\+\_\+to\+\_\+runtime()}{push\_task\_to\_runtime()}}
{\footnotesize\ttfamily void cotton\+::push\+\_\+task\+\_\+to\+\_\+runtime (\begin{DoxyParamCaption}\item[{void $\ast$}]{task }\end{DoxyParamCaption})}

Pushes a task encapsulated in a lambda function into the calling thread\textquotesingle{}s data structure

\begin{DoxyReturn}{Returns}
Void 
\end{DoxyReturn}
\mbox{\Hypertarget{cotton-runtime_8h_file_aac28063e6fe138ec81c444e83b7f6ffc}\label{cotton-runtime_8h_file_aac28063e6fe138ec81c444e83b7f6ffc}} 
\index{cotton-\/runtime.\+h@{cotton-\/runtime.\+h}!set\+\_\+eefc\+\_\+mode@{set\+\_\+eefc\+\_\+mode}}
\index{set\+\_\+eefc\+\_\+mode@{set\+\_\+eefc\+\_\+mode}!cotton-\/runtime.\+h@{cotton-\/runtime.\+h}}
\subsubsection{\texorpdfstring{set\+\_\+eefc\+\_\+mode()}{set\_eefc\_mode()}}
{\footnotesize\ttfamily void cotton\+::set\+\_\+eefc\+\_\+mode (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Set whether the runtime is to be energy efficient at the runtime variable {\ttfamily C\+O\+T\+T\+O\+N\+\_\+\+E\+E\+F\+C\+\_\+\+M\+O\+DE}. E\+E\+F\+C\+\_\+\+M\+O\+DE can be set at runtime using the environment variable C\+O\+T\+T\+O\+N\+\_\+\+E\+E\+F\+C\+\_\+\+M\+O\+DE.

\begin{DoxyReturn}{Returns}
Void 
\end{DoxyReturn}
\mbox{\Hypertarget{cotton-runtime_8h_file_ae91d8cfb1b831a971eafccb512c17a15}\label{cotton-runtime_8h_file_ae91d8cfb1b831a971eafccb512c17a15}} 
\index{cotton-\/runtime.\+h@{cotton-\/runtime.\+h}!UP@{UP}}
\index{UP@{UP}!cotton-\/runtime.\+h@{cotton-\/runtime.\+h}}
\subsubsection{\texorpdfstring{U\+P()}{UP()}}
{\footnotesize\ttfamily void cotton\+::\+UP (\begin{DoxyParamCaption}\item[{int}]{worker\+\_\+id }\end{DoxyParamCaption})}

Increase the C\+PU frequency of the worker by one level.


\begin{DoxyParams}{Parameters}
{\em worker\+\_\+id} & Worker\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Void 
\end{DoxyReturn}
\mbox{\Hypertarget{cotton-runtime_8h_file_a361c34063ecb68cf02d417074decb12b}\label{cotton-runtime_8h_file_a361c34063ecb68cf02d417074decb12b}} 
\index{cotton-\/runtime.\+h@{cotton-\/runtime.\+h}!worker\+\_\+routine@{worker\+\_\+routine}}
\index{worker\+\_\+routine@{worker\+\_\+routine}!cotton-\/runtime.\+h@{cotton-\/runtime.\+h}}
\subsubsection{\texorpdfstring{worker\+\_\+routine()}{worker\_routine()}}
{\footnotesize\ttfamily void $\ast$ cotton\+::worker\+\_\+routine (\begin{DoxyParamCaption}\item[{void $\ast$}]{args }\end{DoxyParamCaption})}

Encapsulates the work that a thread does once spawing which includes setting the per thread ID and spinning until the thread finds a task to execute


\begin{DoxyParams}{Parameters}
{\em args} & Contains the argument related to the ID of the calling thread \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Void 
\end{DoxyReturn}
\mbox{\Hypertarget{cotton-runtime_8h_file_adb1488633725b43a252652796faa2e98}\label{cotton-runtime_8h_file_adb1488633725b43a252652796faa2e98}} 
\index{cotton-\/runtime.\+h@{cotton-\/runtime.\+h}!workload\+\_\+down\+\_\+check@{workload\+\_\+down\+\_\+check}}
\index{workload\+\_\+down\+\_\+check@{workload\+\_\+down\+\_\+check}!cotton-\/runtime.\+h@{cotton-\/runtime.\+h}}
\subsubsection{\texorpdfstring{workload\+\_\+down\+\_\+check()}{workload\_down\_check()}}
{\footnotesize\ttfamily void cotton\+::workload\+\_\+down\+\_\+check (\begin{DoxyParamCaption}\item[{int}]{worker\+\_\+id }\end{DoxyParamCaption})}

Checks the current worker\textquotesingle{}s deque size and compares it with it\textquotesingle{}s threshold value. If it is found to be greater then it decreases the frequency of the core on which the worker is running.


\begin{DoxyParams}{Parameters}
{\em worker\+\_\+id} & Worker\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Void 
\end{DoxyReturn}
\mbox{\Hypertarget{cotton-runtime_8h_file_aaffd00340decbd3395986d865ecc2660}\label{cotton-runtime_8h_file_aaffd00340decbd3395986d865ecc2660}} 
\index{cotton-\/runtime.\+h@{cotton-\/runtime.\+h}!workload\+\_\+up\+\_\+check@{workload\+\_\+up\+\_\+check}}
\index{workload\+\_\+up\+\_\+check@{workload\+\_\+up\+\_\+check}!cotton-\/runtime.\+h@{cotton-\/runtime.\+h}}
\subsubsection{\texorpdfstring{workload\+\_\+up\+\_\+check()}{workload\_up\_check()}}
{\footnotesize\ttfamily void cotton\+::workload\+\_\+up\+\_\+check (\begin{DoxyParamCaption}\item[{int}]{worker\+\_\+id }\end{DoxyParamCaption})}

Checks the current worker\textquotesingle{}s deque size and compares it with it\textquotesingle{}s threshold value. If it is found to be greater then it increases the frequency of the core on which the worker is running.


\begin{DoxyParams}{Parameters}
{\em worker\+\_\+id} & Worker\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Void 
\end{DoxyReturn}
